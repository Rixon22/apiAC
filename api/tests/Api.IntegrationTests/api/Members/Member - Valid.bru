meta {
  name: Member - Valid
  type: http
  seq: 4
}

get {
  url: {{baseUrl}}/api/members/arenita-id
  body: none
  auth: bearer
}

headers {
  Authorization: eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFyZW5pdGFAdGVzdC5jb20iLCJuYW1laWQiOiJhcmVuaXRhLWlkIiwibmJmIjoxNzYzMTMzNDAzLCJleHAiOjE3NjM3MzgyMDMsImlhdCI6MTc2MzEzMzQwM30.t3lZlCGXh2rBrdmPT7-vlU7RprXs7VtznIdwwQbNQgUlSqMGJB45pWNNatzQ7nDirGTj1nEAU1QSwmwtwMAYwg
}

auth:bearer {
  token: eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFyZW5pdGFAdGVzdC5jb20iLCJuYW1laWQiOiJhcmVuaXRhLWlkIiwibmJmIjoxNzYzMTMzNDAzLCJleHAiOjE3NjM3MzgyMDMsImlhdCI6MTc2MzEzMzQwM30.t3lZlCGXh2rBrdmPT7-vlU7RprXs7VtznIdwwQbNQgUlSqMGJB45pWNNatzQ7nDirGTj1nEAU1QSwmwtwMAYwg
}

tests {
    test("Should return OK", function() {
      expect(res.getStatus()).to.equal(200);
    });
    
    test("Should return member", function() {
      const jsonData = res.getBody();
      const firstMember = jsonData;
    
      expect(firstMember).to.have.property("id");
      expect(firstMember).to.have.property("displayName");
    
      expect(firstMember.id).to.equal("arenita-id");
      expect(firstMember.displayName).to.equal("Arenita");
    });
}

settings {
  encodeUrl: true
  timeout: 0
}
